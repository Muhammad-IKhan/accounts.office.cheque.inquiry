<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Meta tags to prevent caching -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Data Management Dashboard</title>
    <link rel="stylesheet" href="styles/main.css" />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script>
      // Function to force refresh the page cache
      function forceRefresh() {
        // Current timestamp to make URL unique and bypass cache
        const timestamp = new Date().getTime();
        // Refresh the page with a cache-busting parameter
        window.location.href = window.location.pathname + '?refresh=' + timestamp;
      }

      // Auto refresh cache when page loads
      window.addEventListener('load', function() {
        // Check if this is already a refreshed page (to avoid refresh loops)
        if (!window.location.href.includes('?refresh=')) {
          forceRefresh();
        }
        
        // Update the date and time display
        updateDateTime();
        // Set interval to update time every minute
        setInterval(updateDateTime, 60000);
        
        // Store last refresh time
        const refreshTime = new Date();
        document.getElementById('lastRefreshTime').textContent = formatTime(refreshTime);
        
        // Theme toggler
        const themeToggle = document.getElementById('themeToggle');
        themeToggle.addEventListener('click', () => {
          document.body.classList.toggle('dark-mode');
          updateThemeIcon();
        });
        
        // Check system preference
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
          document.body.classList.add('dark-mode');
          updateThemeIcon();
        }
        
        function updateThemeIcon() {
          const isDark = document.body.classList.contains('dark-mode');
          themeToggle.innerHTML = isDark ? 
            '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>' : 
            '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>';
        }
        
        updateThemeIcon();
      });
      
      // Function to update date and time
      function updateDateTime() {
        const now = new Date();
        const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        
        document.getElementById('currentDate').textContent = now.toLocaleDateString('en-US', dateOptions);
        document.getElementById('currentTime').textContent = formatTime(now);
      }
      
      // Format time as HH:MM AM/PM
      function formatTime(date) {
        return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
      }

      // Set up hourly refresh
      setInterval(function() {
        forceRefresh();
      }, 3600000); // 3600000 ms = 1 hour
    </script>
  </head>
  <body>
    <div class="container animate-fade-in">
      <!-- Header -->
      <div class="header">
        <div class="header-content">
          <h1>Enterprise Data Dashboard</h1>
          <span>Integrated Management System</span>
        </div>
        
        <div class="datetime-display">
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
            <span id="currentDate">Thursday, April 10, 2025</span>
          </span>
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
            <span id="currentTime">10:30 AM</span>
          </span>
        </div>
        
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </button>
      </div>
      
      <!-- Last update notice -->
      <div class="last-update-notice animate-slide-up">
        <h4>
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"></path>
            <path d="M12 6v6l4 2"></path>
          </svg>
          Last Data Update
        </h4>
        <p>Database was manually refreshed at <span id="lastRefreshTime">10:30 AM</span>. Please note that all transaction reports are subject to verification by the finance department before being finalized.</p>
      </div>

      <!-- Controls area -->
      <div class="controls-grid">
        <div class="input-group">
          <label for="search">Search Records</label>
          <input type="text" id="search" placeholder="Enter keywords..." />
        </div>
        
        <div class="input-group">
          <label for="category">Category</label>
          <select id="category">
            <option value="">All Categories</option>
            <option value="finance">Finance</option>
            <option value="operations">Operations</option>
            <option value="marketing">Marketing</option>
          </select>
        </div>
        
        <div class="input-group">
          <label for="status">Status</label>
          <select id="status">
            <option value="">All Statuses</option>
            <option value="active">Active</option>
            <option value="pending">Pending</option>
            <option value="completed">Completed</option>
          </select>
        </div>
        
        <div class="input-group">
          <button type="button" class="btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            Search
          </button>
        </div>
      </div>

      <!-- Loading spinner -->
      <div class="loading">
        <div class="loading-spinner"></div>
        <p>Fetching data...</p>
      </div>

      <!-- Table container -->
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>ID <span class="sort-icon">â†“</span></th>
              <th>Name</th>
              <th>Category</th>
              <th>Date</th>
              <th>Status</th>
              <th>Amount</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td data-label="ID">1001</td>
              <td data-label="Name">Project Alpha</td>
              <td data-label="Category">Finance</td>
              <td data-label="Date">2025-04-08</td>
              <td data-label="Status"><span class="status-badge status-green">Completed</span></td>
              <td data-label="Amount">$5,249.00</td>
              <td data-label="Actions">
                <button type="button" class="btn-primary">View</button>
              </td>
            </tr>
            <tr>
              <td data-label="ID">1002</td>
              <td data-label="Name">Campaign Beta</td>
              <td data-label="Category">Marketing</td>
              <td data-label="Date">2025-04-09</td>
              <td data-label="Status"><span class="status-badge status-yellow">Pending</span></td>
              <td data-label="Amount">$3,850.75</td>
              <td data-label="Actions">
                <button type="button" class="btn-primary">View</button>
              </td>
            </tr>
            <tr>
              <td data-label="ID">1003</td>
              <td data-label="Name">System Upgrade</td>
              <td data-label="Category">Operations</td>
              <td data-label="Date">2025-04-10</td>
              <td data-label="Status"><span class="status-badge status-blue">Active</span></td>
              <td data-label="Amount">$12,400.00</td>
              <td data-label="Actions">
                <button type="button" class="btn-primary">View</button>
              </td>
            </tr>
            <tr>
              <td data-label="ID">1004</td>
              <td data-label="Name">Client Onboarding</td>
              <td data-label="Category">Finance</td>
              <td data-label="Date">2025-04-07</td>
              <td data-label="Status"><span class="status-badge status-red">Error</span></td>
              <td data-label="Amount">$0.00</td>
              <td data-label="Actions">
                <button type="button" class="btn-primary">View</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Empty state -->
      <div class="empty-state">
        <svg class="empty-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
          <polyline points="13 2 13 9 20 9"></polyline>
        </svg>
        <h3>No Data Available</h3>
        <p>There are no records matching your search criteria. Try adjusting your filters or add new records.</p>
      </div>

      <!-- Pagination -->
      <div class="pagination-controls">
        <button class="page-btn" disabled>&lt;&lt;</button>
        <button class="page-btn" disabled>&lt;</button>
        <button class="page-btn active">1</button>
        <button class="page-btn">2</button>
        <button class="page-btn">3</button>
        <span class="page-ellipsis">...</span>
        <button class="page-btn">10</button>
        <button class="page-btn">&gt;</button>
        <button class="page-btn">&gt;&gt;</button>
      </div>

      <!-- Mobile FAB -->
      <div class="fab-container">
        <div class="fab">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
        </div>
      </div>
    </div>
  </body>
</html>
